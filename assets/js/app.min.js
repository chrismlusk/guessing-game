"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var s=0,t=Array(e.length);s<e.length;s++)t[s]=e[s];return t}return Array.from(e)}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,s){for(var t=0;t<s.length;t++){var i=s[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(s,t,i){return t&&e(s.prototype,t),i&&e(s,i),s}}(),Game=function(){function e(){_classCallCheck(this,e),this.winningNum=this.generateWinningNum(),this.userGuess=null,this.pastGuesses=[],this.headerTitleOne="",this.headerTitleTwo="",this.headerEmoji="",this.headerMessage="",this.headerHint="",this.resultClass="",this.resultEmoji="",this.hintRange=null}return _createClass(e,[{key:"generateWinningNum",value:function e(){return Math.floor(100*Math.random()+1)}},{key:"submitUserGuess",value:function e(s){var t=this.isGuessValid(s),i=this.isPriorGuess(s);return t?i?(this.headerTitleOne="You already",this.headerTitleTwo="guessed "+s,this.headerEmoji="ğŸ™€",this.headerMessage="Pick a different number to continue playing.",void(this.headerHint="")):void(t&&!i&&(this.userGuess=s,this.pastGuesses.push(this.userGuess),this.setGuessOutput())):(this.headerTitleOne="Error!",this.headerTitleTwo="Pick again",this.headerEmoji="ğŸš«",this.headerMessage="Whoa hold on now. That number is invalid.",void(this.headerHint=""))}},{key:"isGuessValid",value:function e(s){return!(s<1||s>100||isNaN(s))}},{key:"isPriorGuess",value:function e(s){return this.pastGuesses.includes(s)}},{key:"setGuessOutput",value:function e(){var s=this.getDifference(),t="Guess #"+this.pastGuesses.length+":";switch(s){case"winner":return this.headerTitleOne="You did it!",this.headerTitleTwo="Congrats!",this.headerEmoji="ğŸ‘ğŸ½ğŸ‘ğŸ½ğŸ‘ğŸ½",this.headerMessage="We have a winner!",this.headerHint="What a great guesser!",this.resultClass="is-active is-correct",this.resultEmoji="ğŸ‰ğŸ‰ğŸ‰",!0;case"hot":this.headerTitleOne=t,this.headerTitleTwo="You're hot!",this.headerEmoji="ğŸ‘‰ğŸ½",this.headerMessage="Watch out! You're playing with fire!!!",this.headerHint=this.isLower(),this.resultClass="is-active is-incorrect is-hot",this.resultEmoji="ğŸ”¥ğŸ”¥ï¸ğŸ”¥",this.hintRange=8;break;case"warm":this.headerTitleOne=t,this.headerTitleTwo="OK not bad",this.headerEmoji="ğŸ‘‰ğŸ½",this.headerMessage="You're warm â€” but not warm enough.",this.headerHint=this.isLower(),this.resultClass="is-active is-incorrect is-warm",this.resultEmoji="ğŸŒ¼ğŸŒ¼ğŸŒ¼",this.hintRange=16;break;case"cold":this.headerTitleOne=t,this.headerTitleTwo="You're cold",this.headerEmoji="ğŸ‘‰ğŸ½",this.headerMessage="You must feel pretty chilly, huh?",this.headerHint=this.isLower(),this.resultClass="is-active is-incorrect is-cold",this.resultEmoji="ğŸŒ¨ï¸ğŸŒ¨ï¸ğŸŒ¨ï¸",this.hintRange=32;break;default:this.headerTitleOne=t,this.headerTitleTwo="Brrrrrrr!",this.headerEmoji="ğŸ‘‰ğŸ½",this.headerMessage="You are absolutely frozen to the bone.",this.headerHint=this.isLower(),this.resultClass="is-active is-incorrect is-frozen",this.resultEmoji="â„ï¸â„ï¸â„ï¸",this.hintRange=64;break}5===this.pastGuesses.length&&(this.headerTitleOne="Bummer...",this.headerTitleTwo="Game over!",this.headerEmoji="ğŸ˜",this.headerMessage="The correct number was "+this.winningNum+".",this.headerHint="Want to play again?")}},{key:"getDifference",value:function e(){var s=Math.abs(this.userGuess-this.winningNum);return 0===s?"winner":s<10?"hot":s<25?"warm":s<50?"cold":"frozen"}},{key:"isLower",value:function e(){return this.userGuess<this.winningNum?"Guess higher!":"Guess lower!"}},{key:"getHint",value:function e(){var s=void 0,t=void 0;this.winningNum<0+this.hintRange?(s=this.winningNum+this.hintRange,t=this.winningNum):this.winningNum>100-this.hintRange?(s=this.winningNum,t=this.winningNum-this.hintRange):(s=this.winningNum+this.hintRange/2,t=this.winningNum-this.hintRange/2);for(var i=[this.winningNum];i.length<3;)i.push(Math.floor(Math.random()*(s-t+1)+t)),i=i.reduce(function(e,s){return e.includes(s)?e:[].concat(_toConsumableArray(e),[s])},[]),i.includes(this.winningNum)||(i[0]=this.winningNum);return this.shuffle(i)}},{key:"shuffle",value:function e(s){for(var t=s.length-1;t>=0;t--){var i=Math.floor(Math.random()*(t+1)),r=s[i];s[i]=s[t],s[t]=r}return s}}]),e}();$(function(){function e(){v.prop("disabled",!1),s(),t()}function s(){var e=parseInt(m.val(),10);m.val("");var s=h.isGuessValid(e),t=h.isPriorGuess(e);!s||t?i():$(".is-invalid").removeClass("is-invalid"),h.submitUserGuess(e)}function t(){var e=$(".user-guess-row div:nth-child("+h.pastGuesses.length+") .user-guess-result");h.pastGuesses.length<5&&h.userGuess!==h.winningNum&&(l.addClass("is-animated"),setTimeout(function(){l.removeClass("is-animated")},500)),u.text(h.headerTitleOne),o.text(h.headerTitleTwo),l.text(h.headerEmoji),d.text(h.headerMessage),c.text(h.headerHint),e.addClass(h.resultClass).children(".user-guess-number").text(h.userGuess),e.children(".user-guess-emoji").text(h.resultEmoji),(e.hasClass("is-correct")||5===h.pastGuesses.length)&&n()}function i(){g.addClass("is-invalid is-incorrect"),m.addClass("is-invalid"),setTimeout(function(){g.removeClass("is-incorrect")},500)}function r(){if(v.prop("disabled",!0),l.text(""),d.text(""),h.pastGuesses.length>0){var e=h.getHint();c.text("ğŸ”® I see the number "+e[0]+", "+e[1]+", or "+e[2]+" in your future.")}else c.text("ğŸ™„ C'mon now. At least give it a try before you get a hint!");m.focus()}function n(){m.prop("disabled",!0),v.prop("disabled",!0),f.prop("disabled",!0),w.focus(),$(".is-invalid").removeClass("is-invalid"),$(".user-guess-result").not(".is-correct").removeClass("is-active")}function a(){m.prop("disabled",!1),v.prop("disabled",!1),f.prop("disabled",!1),$(".is-invalid").removeClass("is-invalid"),$(".user-guess-result").attr("class","user-guess-result"),$(".user-guess-number").text("?"),u.text("Guess me"),o.text("if you can!"),l.text("ğŸ‘€"),d.text("Oh, so you want to try again?"),c.text("All right let's go!"),m.focus(),h=new Game}var h=new Game,u=$(".header-title .one"),o=$(".header-title .two"),l=$(".header-text .emoji"),d=$(".header-text .message"),c=$(".header-text .hint"),g=$(".js-user-form"),m=$(".js-input-guess"),f=$(".js-submit-guess"),v=$(".js-get-hint"),w=$(".js-reset-game");g.on("keypress",".js-input-guess",function(s){13===(s.keyCode?s.keyCode:s.which)&&e()}).on("click",".js-submit-guess",e).on("click",".js-get-hint",r).on("click",".js-reset-game",a)});